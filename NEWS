po4a NEWS

===============================================================================
* Major changes in release 0.33.2 (UNRELEASED)

text:
 * Added support for the fortunes format.

translations:
 * New Japanese translation.
 * The manpages are generated in UTF-8.

===============================================================================
* Major changes in release 0.33.1 (2008-03-16)

This is a bug fix release.

man:
 * Do not translate - to \- inside \*[...], \(.., \H'...', or \Z'...'.

xml:
 * Do not translate SSI comments by default.

packaging:
 * Fix the installation path of manpages and .mo files.

===============================================================================
* Major changes in release 0.33 (2008-03-03)

Notes to packagers: Since 0.31, some tests in the sgml testsuite require
the docbook sgml DTD. If you run the testsuite at build time you must have
these DTD in your build dependencies or you must disable these tests
cases in the testsuite.

** New features
  general: Support for PO files with plural forms.
           Po4a does not generate such PO files, but it can receive one in
           input. In such case, po4a cannot choose between the (singular
           and) plural forms. It will consider that msgstr[0] is the
           translation of msgid and msgstr[1] is the translation of
           msgid_plural, which may be wrong. Thus, a warning will be
           issued if po4a is asked to translate the singular or plural
           form of a message with plural forms.

  texinfo: Major changes. Tested on the elisp documentation.

  sgml: Fail if nsgmls cannot validate the input file. This can be turned
        off with the "force" option.

  xml: New option "cpp" to support C preprocessor directives (this avoids
       re-wrapping lines with preprocessor directives).
  xml: New options "translated" and "untranslated" that should allow an
       easier configuration of Xml (and derivative module)
  xml: Avoid duplicated newlines at the end of lines of multi-lines
       comments.
  xml: Paragraphs which only consist in an inline tag are now extracted.
       This makes a lot of string to available for translation in the PO
       file.
  docbook: Tested on the Docbook testsuite. Lots of tag added.

  po4a: Fix failures with perl 5.10. Thanks to Roderich Schupp
        <roderich.schupp@googlemail.com>

  msguntypot: Fix handling of the comment of the PO header.

===============================================================================
* Major changes in release 0.32 (2007-08-15)

** Security fix
  Fix a symlink attack caused by the /tmp/gettextization.failed.po
  temporary file.
  (CVE-2007-4462)

** Bug fixes

  sgml: The handling of newlines was broken in no-wrap sections in 0.31

  xhtml: The module is now distributed as the other modules.

  texinfo: Fix infinite loop when a command parameter ends with \
           (as in @samp{\})

** New features

  xml: New option includeexternal to support external entities.

  texinfo: Added support for many commands and environment (see
           changelog).

  xhtml: New option includessi, which adds supports for Server Side
         Includes include element (<!--#include virtual="/foo/bar.html" -->).

  xml: New option ontagerror to control the behavior of the module in case
       of error. This permits to support files that the module would
       consider invalid otherwise.

** Translations

  New translations (Bengali, Estonian, Croatian, Indonesian, Kannada,
  Korean, Occitan, Uzbek, Simplified Chinese, Chinese from Hong Kong) and
  many updates.

===============================================================================
* Major changes in release 0.31 (2007-05-07)

** Dependencies

  po4a,
  po4a-updatepo: New option --previous requires gettext 0.16.

** Bug fixes

  general: Don't hang when running in background with redirected stdout.
           Thanks to Jim Meyering.

** New features

  general: po4a now uses timestamps to avoid re-generating a translation
           if no changes are expected: if a translation is more recent
           than its associated PO, master document, addenda or
           configuration file, then there is no need to update it. For the
           documents which do not pass the translation threshold, a
           --stamp option was added to tell po4a to create files with a
           .po4a-stamp extension (you can also create them manually).
           This can save a lot of time when po4a knows that the
           translation will not be generated because there were no changes
           since the last po4a run.

  general: Beginning of a C extension. This provides speedup. Testers are
           welcomed.

  po4a: New options: --msgid-bugs-address and --copyright-holder.

  po4a: Add new tag: [options] to set global options (i.e. for every
        documents in the configuration file).

  po4a: Update translations based on modification times. Use timestamp to
        avoid retrying generate uncompleted translations.

  man: New 'unknown_macros' option to specify the behavior of po4a with
       unknown groff macros.

  man: Reset the configuration between two runs. This permits to define
       different options for different files in a config file with the
       opt:"..." parameters.

===============================================================================
* Major changes in release 0.30 (2007-01-05)

** Bug fixes

  man: Recode the text which is skipped, like comments.
       This kind of issue may also appear on other modules.
       A better solution would be to always use UTF-8 internally.

  distribution: Some unit tests were missing.
                Also, the dependencies have been simplified.
                Locale::gettext, Text::WrapI18N, Term::ReadKey and SGMLS
                are still recommended, but no more required.
                The BibTex module is now distributed.

  sgml: The module should be more friendly with XML files.

  po4a: When po4a creates a new PO file, it now uses msginit. This may
        change the header of created PO files.

  guide: Major update of the tag definitions. Thanks to Azamat H.
         Hackimov.

  Po: use strftime instead of date because date is not available on
      every platform.

  tests: rename the XML testsuite to SGML, since it was testing the Sgml
         module, and add a new testsuite for the Xml module (it currently
         tests the Guide module).

** Translations

  Updated Russian translation.

===============================================================================
* Major changes in release 0.29 (2006-10-15)

** New features

** Bug fixes

  sgml: Remove the tags from the default categories when they are defined
  by the user.  This changes the behavior of the Sgml module's options.

  sgml: Better line references in the generated PO.

  sgml: Support for '/>' (empty XML tag closure) when an xml prologue is
  found (<?xml ...?>).

  po4a: When po4a create new PO files, it now uses msginit instead of
  copying the POT file.

===============================================================================
* Major changes in release 0.29 (2006-10-15)

** New features

  New module for .INI files. Thanks to Costin Stroie.

  New module for BibTeX bibliographies.

  man: New mdoc option for stricter support of mdoc pages (NAME section
  not translated).

  text: Support for underlined text.

  text: Support for bulleted paragraphs (can be deactivated with
  -o nobullets).

** Bug fixes

  man: Keep empty commented lines.

  man: Do not add spaces at the end of lines.

  man: Languages without non breaking space could not use question marks.

  sgml: Better support for verbatim sections, and consider <cmdsynopsis>
  as verbatim. <arg> and <option> are now in the ignore category.

  general: Length calculation algorithm changed for wrapping lines in the
  output document or in the PO. This should improve output when files are
  encoded in UTF-8.

===============================================================================
* Major changes in release 0.28 (2006-08-17)

** Bug fixes

  man: Fix for .I " " and other minor bug fixes.

  tex/latex: Documentation and usability improvements.

** Speed improvement

  po4a: The POs are now only read once. This will speed the processing
  when many documents are specified in a configuration file.

** Translations

  Updated French translation.
